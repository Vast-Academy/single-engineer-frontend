@tailwind base;
@tailwind components;
@tailwind utilities;

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    /* Enable full screen height */
    height: 100%;
    height: -webkit-fill-available;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* Full height support */
    min-height: 100%;
    min-height: -webkit-fill-available;

    /* White background for status bar and navigation bar areas */
    background-color: #ffffff;
}

/* Root element safe area */
#root {
    min-height: var(--app-viewport-height, 100vh);
    min-height: -webkit-fill-available;
}

:root {
    --app-safe-area-bottom: 0px;
    --app-viewport-height: 100vh;
    --app-viewport-unit: 1vh;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}

/* Safe area for iOS devices with notch */
.safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-top {
    padding-top: env(safe-area-inset-top, 0);
}

.safe-area-left {
    padding-left: env(safe-area-inset-left, 0);
}

.safe-area-right {
    padding-right: env(safe-area-inset-right, 0);
}

/* System theme detection - Keep white background always */
@media (prefers-color-scheme: light) {
    body {
        /* Light mode: White status bar background */
        background-color: #ffffff;
    }
}

@media (prefers-color-scheme: dark) {
    body {
        /* Dark mode: Also white to match app theme */
        background-color: #ffffff;
    }
}

/* Hide scrollbar for mobile */
@media (max-width: 768px) {
    ::-webkit-scrollbar {
        display: none;
    }
    body {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
}

/* Toast slide down animation */
@keyframes slide-down {
    from {
        transform: translateX(-50%) translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
    }
}

.animate-slide-down {
    animation: slide-down 0.3s ease-out;
}

/* YouTube-style fade in from bottom animation for progressive loading */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in-up {
    animation: fadeInUp 0.4s ease-out forwards;
}

/* Modal helpers */
.modal-shell {
    max-height: calc(var(--app-viewport-height, 100vh) - 32px);
    padding-bottom: max(env(safe-area-inset-bottom, 0px), var(--app-safe-area-bottom, 0px));
    min-height: 0;
}

.modal-footer-safe {
    position: sticky;
    bottom: 0;
    background: #ffffff;
    padding-bottom: max(env(safe-area-inset-bottom, 0px), var(--app-safe-area-bottom, 0px));
}

.modal-body {
    flex: 1 1 auto;
    min-height: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}
